{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n   contactFormEl: document.querySelector('.feedback-form'),\n   email: document.querySelector('[name=\"email\"]'),\n   message: document.querySelector('[name=\"message\"]'),\n   localStorageKey: \"feedback-form-state\",\n};\n\nrefs.contactFormEl.addEventListener('input', throttle(saveToLocalStorage, 500));\n\nfunction saveToLocalStorage () {\n        const key = refs.localStorageKey;\n        const data = {\n        email: refs.email.value,\n        message: refs.message.value,\n    };\n    const serializedState = JSON.stringify(data);\n    localStorage.setItem(key, serializedState);\n};\n\n\n\n\nfunction loadFromLS () {\n    const savedData = JSON.parse(localStorage.getItem(refs.localStorageKey));\nif (savedData === null){\n    return;\n}\nfor (const key in savedData) {\n    if (savedData.hasOwnProperty(key)){\n    refs.contactFormEl.elements[key].value = savedData[key];\n}\n// refs.contactFormEl.elements.email.value = savedData.email;\n// refs.contactFormEl.elements.message.value = savedData.message;\n// console.log(savedData);\n// console.log(refs.contactFormEl.elements);\n   \n};\n};\nloadFromLS ();\n\nrefs.contactFormEl.addEventListener(\"submit\", onContactFormElSubmit);\n\nfunction onContactFormElSubmit (event) {\n    event.preventDefault();\n    const userData = {\n        email: refs.email.value,\n        message: refs.message.value,\n    };\n\n    refs.contactFormEl.reset();\n    localStorage.removeItem(refs.localStorageKey);\n    console.log(userData);\n};"],"names":["refs","throttle","saveToLocalStorage","key","data","serializedState","loadFromLS","savedData","onContactFormElSubmit","event","userData"],"mappings":"wIAEA,MAAMA,EAAO,CACV,cAAe,SAAS,cAAc,gBAAgB,EACtD,MAAO,SAAS,cAAc,gBAAgB,EAC9C,QAAS,SAAS,cAAc,kBAAkB,EAClD,gBAAiB,qBACpB,EAEAA,EAAK,cAAc,iBAAiB,QAASC,EAASC,EAAoB,GAAG,CAAC,EAE9E,SAASA,GAAsB,CACvB,MAAMC,EAAMH,EAAK,gBACXI,EAAO,CACb,MAAOJ,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC9B,EACUK,EAAkB,KAAK,UAAUD,CAAI,EAC3C,aAAa,QAAQD,EAAKE,CAAe,CAC7C,CAKA,SAASC,GAAc,CACnB,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQP,EAAK,eAAe,CAAC,EAC3E,GAAIO,IAAc,KAGlB,UAAWJ,KAAOI,EACVA,EAAU,eAAeJ,CAAG,IAChCH,EAAK,cAAc,SAASG,CAAG,EAAE,MAAQI,EAAUJ,CAAG,EAQ1D,CACAG,EAAU,EAEVN,EAAK,cAAc,iBAAiB,SAAUQ,CAAqB,EAEnE,SAASA,EAAuBC,EAAO,CACnCA,EAAM,eAAc,EACpB,MAAMC,EAAW,CACb,MAAOV,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC9B,EAEIA,EAAK,cAAc,QACnB,aAAa,WAAWA,EAAK,eAAe,EAC5C,QAAQ,IAAIU,CAAQ,CACxB"}